<html>
<head>
<title>Results</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

 <link rel="stylesheet" type="text/css" href="results.css">

 
    
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<div class="book-store">
 <div class="header">
  <div class="browse">
   <div class="browse-category">
    Top Result
	
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down">
     <path d="M6 9l6 6 6-6" /></svg>
   </div>
   <div class="search-bar">
    <input type="text" placeholder="Search Book" />
   </div>
  </div>
  <div class="header-title">read<span>books</span></div>
  <div class="profile">
   <div class="user-profile">
    <img src="https://randomuser.me/api/portraits/women/63.jpg" alt="" class="user-img">
   </div>
   <div class="profile-menu">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
     <path d="M3 12h18M3 6h18M3 18h18" /></svg>
    Menu
   </div>
  </div>
 </div>
 <div class="book-slide">
  <div class="book js-flickity" data-flickity-options='{ "wrapAround": true }'>
   <div class="book-cell">
    <div class="book-img">
     <img src="https://images-na.ssl-images-amazon.com/images/I/81WcnNQ-TBL.jpg" id= "maintitle" alt="" class="book-photo">
    </div>
    <div class="book-content">
     <div id="maintitlename" class="book-title">BIG MAGIC</div>
     <div class="book-author">by Sybil Young</div>
     <div class="rate">
      <fieldset class="rating">
       <input type="checkbox" id="star5" name="rating" value="5" />
       <label class="full" for="star5"></label>
       <input type="checkbox" id="star4" name="rating" value="4" />
       <label class="full" for="star4"></label>
       <input type="checkbox" id="star3" name="rating" value="3" />
       <label class="full" for="star3"></label>
       <input type="checkbox" id="star2" name="rating" value="2" />
       <label class="full" for="star2"></label>
       <input type="checkbox" id="star1" name="rating" value="1" />
       <label class="full" for="star1"></label>
      </fieldset>
     </div>
     <div id= "desc" class="book-sum">Readers of all ages and walks of life have drawn inspiration and empowerment from Elizabeth Gilbertâ€™s books for years. </div>
     <a style="text-decoration: none;" id="mainlink" href="#"><div class="book-see">See The Book</div></a>
    </div>
   </div>
   <div class="overlay"></div>
  </div>
  <div class="popular-books">
  Results
   <div id= "bc" class="book-cards">
   
    </div>
<script>
	var a= JSON.parse(<%-JSON.stringify(books)%>);
	console.log(a[0].image);
	document.getElementById("maintitle").src= a[0].image;
	document.getElementById("maintitlename").innerHTML= a[0].title;
	document.getElementById("desc").innerHTML= a[0].desc;
	document.getElementById("mainlink").href= a[0].url;
	const books = document.querySelector("#bc");
	for(let i= 1; i < a.length; i++){
		console.log(i);
		const book= createBook(a[i]);
		console.log(books);
		books.appendChild(book);
	}
	
	function createBook(item){
	console.log("Attempting");
	const a= document.createElement("a");
	a.href= item.url;
	a.style.textDecoration= "none";
	const book = document.createElement("div");
	const content= document.createElement("div");
	book.classList.add("book-card");
	content.classList.add("content-wrapper");
	const cover= document.createElement("img");
	const card_content= document.createElement("div");
	cover.src= item.image;
	cover.alt= item.title;
	cover.classList.add("book-card-img");
	card_content.classList.add("card-content");
	const name= document.createElement("div");
	name.classList.add("book-name");
	name.appendChild(document.createTextNode(item.title));
	const author= document.createElement('div');
	author.classList.add("book-by");
	author.appendChild(document.createTextNode("Sybil Young"));
	const desc= document.createElement('div');
	desc.classList.add("book-sum", "card-sum");
	desc.appendChild(document.createTextNode(item.desc));
	card_content.appendChild(name);
	card_content.appendChild(author);
	card_content.appendChild(desc);
	content.appendChild(cover);
	content.appendChild(card_content);
	book.appendChild(content);
	a.appendChild(book);
	return a;
}
	</script>
</body>
</html>